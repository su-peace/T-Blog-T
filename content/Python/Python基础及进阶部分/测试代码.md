---
date: 2025-12-16
tags:
  - 计算机科学与技术
  - Python
  - 语言
---
# 测试函数

对于测试代码，Python标准库包含的`unittest`模块提供了代码测试工具

- $单元测试$是用于核实函数的某个方面没有问题
- $测试用例$是一组单元测试，这些单元测试一起核实函数在各种情形下的行为都符合要求

以下是一个例子：这是**可通过的测试**
```python
# 导入unittest用于之后的测试
import unittest
# 导入要测试的函数
from name_function import get_formatted_name

# 编写一个子类，用于之后的测试
class NamesTest(unittest.TestCase):

	def test_first_last_name(self):
		"""能够正确地处理像Janis Joplin这样的姓名吗？"""
		formatted_name = get_formatted_name('janis', 'joplin')
		self.assertEqual(formatted_name, 'Janis Joplin')
unittest.main()
```


以下是运行之后的结果：
```text
.
---------------------------------------------------------------------- 
Ran 1 test in 0.000s 

OK
```

>下面对代码部分进行解释

- `self.assertEqual(formatted_name, 'Janis Joplin')`：这是`unittest`模块中的==断言方法==，该方法用来核实得到的结果是否与期望的结果一致
- `unittest.main()`：该代码让Python运行这个文件中的测试

>对于运行结果

- `.`：表示有一个测试通过了
- `OK`：表示该测试用例中的所有单元测试都通过了

>对于不能通过测试的代码

- `E`：指出测试用例中有一个单元测试导致错误，并会在之后使用`ERROR`指出错误的代码

# 测试类

>`unittest`Module中的断言方法

|            方法             |      用途       |
| :-----------------------: | :-----------: |
|    `assertEqual(a, b)`    |   核实a == b    |
|  `assertNotEqual(a, b)`   |   核实a != b    |
|      `assertTrue(x)`      |   核实x为True    |
|     `assertFalse(x)`      |   核实x为False   |
|  `assertIn(item, list)`   | 核实item在list中  |
| `assertNotIn(item, list)` | 核实item不在list中 |

###### 类的测试

首先需要导入`unittest`和需要测试的类

- `assertIn()`方法：使用该方法核实测试的代码输出是否包含在答案列表中
	- 如：`self.assertIn('English', my_survey.responses)`，该代码的用处是判断`English`是否在`my_survey.responses`中


>[!tip] 现在更多的是在使用`pytest`第三方库进行测试，更多的内容将会在新的文件中进行了解